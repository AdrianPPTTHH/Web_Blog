## C++高并发编程

### 1、并发、进程、线程



##### 基础知识

1、一个进程中有且只有一个主线程。 

2、一个进程中所有的线程都共享地址空间（共享内存）。

3、 进程中通信： 管道、文件、消息队列、共享内存

​		线程通信：全局变量、指针、引用都可以在线程之间传递 （难点：共享内存 数据一致性的问题） 

（优先考虑，因为轻量级、系统开销小，执行速度更快、内存共享这种方式比仍和一种通信方式都快。）

4、C++11之后添加了C++自身的多线程，意味着跨平台移植性有了。

5、一般情况下主线程运行完毕，那么子线程会被操作系统强行终止。



##### 多线程

#include <thread>

thread mytobj(执行的函数，);

mytobj.join() // 主线程等待子线程结束

mytobj.detach()  // 让子线程与主线程分离，注意：主进程退出的时候，子线程也会被终止。并且detach之后子线程和主线程无关了，不能再进行join()

mytobj.joinable() //判断线程对象是否能够被join或者detach
